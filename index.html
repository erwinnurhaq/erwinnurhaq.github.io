<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <meta name="description" content="I'm a web developer building cool things on the web. My personal site is under maintenance — come back soon to see my portfolio and blog.">
    <link rel="stylesheet" href="./index.css" />
    <title>Home</title>
  </head>
  <body>
    <section>
      <p data-hoverable="true">Under Maintenance</p>
    </section>

    <div class="n-crosshair-v"></div>
    <div class="n-crosshair-h"></div>
    <div class="n-cursor-one"></div>
    <div class="n-cursor-two"></div>

    <script>
      // Test2
      const crosshairV = document.querySelector(".n-crosshair-v");
      const crosshairH = document.querySelector(".n-crosshair-h");
      const cursorOne = document.querySelector(".n-cursor-one");
      const cursorTwo = document.querySelector(".n-cursor-two");

      let mouseX = 0;
      let mouseY = 0;
      let hoverable = false;
      let needsUpdate = false;

      function mouseMove({ clientX, clientY, target }) {
        mouseX = clientX;
        mouseY = clientY;
        hoverable = target.getAttribute("data-hoverable") !== null;
        needsUpdate = true;
      }

      function mouseDown() {
        cursorOne.classList.add("n-cursor-down");
      }

      function mousesUp() {
        cursorOne.classList.remove("n-cursor-down");
      }

      function updateCursor() {
        if (needsUpdate) {
          crosshairV.style.left = `${mouseX}px`;
          crosshairH.style.top = `${mouseY}px`;
          cursorOne.style.left = `${mouseX}px`;
          cursorOne.style.top = `${mouseY}px`;
          cursorTwo.style.transform = `translate3d(calc(${mouseX}px - 50%), calc(${mouseY}px - 50%), 0) rotate(45deg)`;
          cursorTwo.style.borderWidth = hoverable ? `4px` : `1px`;
          needsUpdate = false;
        }
        requestAnimationFrame(updateCursor);
      }

      window.addEventListener("mousemove", mouseMove);
      window.addEventListener("mousedown", mouseDown);
      window.addEventListener("mouseup", mousesUp);
      console.info(`> Ich bin gut. lololol ∘ ∘ ∘ ( °ヮ° )' `);
      requestAnimationFrame(updateCursor);
    </script>
  </body>
</html>
